{"version":3,"sources":["components/mainPage/mainPage.module.css","redux/store.js","redux/task/task.action-types.js","api/api.js","redux/task/task.reducer.js","redux/user/user.reducer.js","components/login/login.jsx","components/tasks/taskCard.jsx","components/tasks/createTaskForm.jsx","components/tasks/tasksContainer.jsx","components/mainPage/mainPage.jsx","App.js","index.js"],"names":["module","exports","store","TASK_ACTION_TYPES","SET_SORT_FIELD","SET_SORT_DIRECT","SET_PAGE_NUM","SET_TOTAL_TASK_COUNT","SET_TASKS","EDIT_TASK","TOGGLE_IS_FETCHING","ADD_TASK","instance","axios","baseURL","tasksAPI","currentPage","sort_filed","sortDr","get","then","res","data","task","formData","FormData","console","log","username","append","email","text","post","headers","userToken","status","id","authAPI","password","initialState","tasks","pageNum","sortField","isFetching","totalTaskCount","toggleIsFetching","type","requestTasks","page","sf","sd","dispatch","a","sort_field","message","total_task_count","taskReducer","state","action","SET_USER","LOG_OUT","setUser","userReducer","reducers","combineReducers","tasksPage","userPage","persistedState","sessionStorage","getItem","JSON","parse","createStore","applyMiddleware","thunkMiddleware","subscribe","setItem","stringify","getState","Login","useState","showModal","setShowModal","Form","useForm","form","useDispatch","useSelector","length","ghost","onClick","title","placement","closable","width","onClose","visible","name","onFinish","values","token","success","error","login","resetFields","Item","label","rules","required","Password","htmlType","TaskCard","currentQueryParams","isEdit","setIsEdit","taskText","setTaskText","setStatus","hoverable","style","height","border","cover","image_path","alt","maxHeight","src","replaceAll","replace","TextArea","value","onChange","e","target","checked","dangerouslySetInnerHTML","__html","prev","queryP","editTask","layout","labelCol","span","wrapperCol","validateMessages","types","number","CreateTaskForm","offset","initialValues","Option","Select","TasksContainer","useEffect","justify","gutter","defaultValue","shape","map","t","xs","md","lg","current","total","pageSize","p","MainPage","loading","className","s","siteLayout","Content","layoutShadow","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b0747914.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"siteLayout\":\"mainPage_siteLayout__1Zeu0\",\"layoutShadow\":\"mainPage_layoutShadow__1-mUw\"};","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport taskReducer from \"./task/task.reducer\";\r\nimport userReducer from \"./user/user.reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    tasksPage: taskReducer,\r\n    userPage: userReducer\r\n})\r\nconst persistedState = sessionStorage.getItem('reduxState')?JSON.parse(sessionStorage.getItem('reduxState')):null;\r\nlet store;\r\nif(persistedState){\r\n    store = createStore(reducers, { ...reducers, userPage:persistedState}, applyMiddleware(thunkMiddleware))\r\n}else{\r\n    store = createStore(reducers, { ...reducers}, applyMiddleware(thunkMiddleware))\r\n}\r\n\r\nstore.subscribe(()=>{\r\n    sessionStorage.setItem('reduxState', JSON.stringify(store.getState().userPage))\r\n})\r\n\r\nexport default store","const TASK_ACTION_TYPES = {\r\n    SET_SORT_FIELD: \"SET_SORT_FIELD \",\r\n    SET_SORT_DIRECT: \"SET_SORT_DIRECT\",\r\n    SET_PAGE_NUM: \"SET_PAGE_NUM\",\r\n    SET_TOTAL_TASK_COUNT: 'SET_TOTAL_TASK_COUNT',\r\n    SET_TASKS: \"SET_TASKS\",\r\n    EDIT_TASK: \"EDIT_TASK\",\r\n    TOGGLE_IS_FETCHING:'TOGGLE_IS_FETCHING',\r\n    ADD_TASK: 'ADD_TASK'\r\n};\r\n\r\nexport default TASK_ACTION_TYPES;","import * as axios from 'axios'\r\n\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://uxcandy.com/~shapoval/test-task-backend/v2/',\r\n});\r\n\r\nexport const tasksAPI = {\r\n    getTasks(currentPage = 1,sort_filed = 'username', sortDr = 'asc') {\r\n        return instance.get(`?developer=Shamshod&sort_field=${sort_filed}&sort_direction=${sortDr}&page=${currentPage}`)\r\n            .then(res => {\r\n                return res.data;\r\n            });\r\n    },\r\n    createTask(task) {\r\n        const formData = new FormData()\r\n        console.log(task.username)\r\n        formData.append('username', task.username)\r\n        formData.append('email', task.email)\r\n        formData.append('text', task.text)\r\n        return instance.post(`create/?developer=Shamshod`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        }).then(res => {\r\n            return res.data\r\n        });\r\n    },\r\n    editTask(task,userToken) {\r\n        const formData = new FormData()\r\n        formData.append('token', userToken)\r\n        formData.append('status', task.status)\r\n        formData.append('text', task.text)\r\n        return instance.post(`edit/${task.id}/?developer=Shamshod`,formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        }).then(res => {\r\n            return res.data\r\n        })\r\n    }\r\n}\r\nexport const authAPI = {\r\n    login(username, password) {\r\n        const formData = new FormData();\r\n        formData.append('username', username)\r\n        formData.append('password', password)\r\n        return instance.post(`login/?developer=Shamshod`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        }).then(res => {\r\n            return res.data\r\n        });\r\n    }\r\n}\r\n\r\n","import TASK_ACTION_TYPES from \"./task.action-types\";\r\nimport {tasksAPI} from \"../../api/api\";\r\nimport {message} from \"antd\";\r\n\r\n\r\nlet initialState ={\r\n    tasks: [{\r\n        username: '',\r\n        email: '',\r\n        text: '',\r\n        status: 0\r\n    }],\r\n    pageNum: 1,\r\n    sortField: 'username',\r\n    sortDr: 'asc',\r\n    isFetching: false,\r\n    totalTaskCount: 4\r\n}\r\n\r\nconst taskReducer = (state=initialState, action)=>{\r\n    switch (action.type) {\r\n        case TASK_ACTION_TYPES.SET_TASKS:\r\n            return {...state, tasks: action.tasks}\r\n        case TASK_ACTION_TYPES.SET_SORT_FIELD:\r\n            return {...state, sortField: action.sort_field}\r\n        case TASK_ACTION_TYPES.SET_SORT_DIRECT:\r\n            return {...state, sortDr: action.sortDr}\r\n        case TASK_ACTION_TYPES.TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching}\r\n        case TASK_ACTION_TYPES.SET_PAGE_NUM:\r\n            return {...state, pageNum: action.pageNum}\r\n        case TASK_ACTION_TYPES.SET_TOTAL_TASK_COUNT:\r\n            return {...state, totalTaskCount: action.totalTaskCount}\r\n        case TASK_ACTION_TYPES.ADD_TASK:\r\n            return {...state, tasks: [action.task]}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst setSortField = (sort_field) => ({type: TASK_ACTION_TYPES.SET_SORT_FIELD,sort_field})\r\n\r\nconst setSortDirect = (sortDr) => ({type: TASK_ACTION_TYPES.SET_SORT_DIRECT,sortDr})\r\n\r\nconst setPageNum = (pageNum) => ({type: TASK_ACTION_TYPES.SET_PAGE_NUM, pageNum})\r\n\r\nconst setTasks = (tasks) => ({type: TASK_ACTION_TYPES.SET_TASKS, tasks})\r\n\r\nconst toggleIsFetching = (isFetching) => ({type: TASK_ACTION_TYPES.TOGGLE_IS_FETCHING, isFetching})\r\n\r\nconst setTotalTasksCount = (totalTaskCount) => ({type: TASK_ACTION_TYPES.SET_TOTAL_TASK_COUNT, totalTaskCount})\r\n\r\nconst addTask = (task) => ({type: TASK_ACTION_TYPES.ADD_TASK, task})\r\n\r\n//Thunks\r\nexport const requestTasks = (page,sf,sd) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        dispatch(setPageNum(page));\r\n        dispatch(setSortField(sf));\r\n        dispatch(setSortDirect(sd))\r\n        let data = await tasksAPI.getTasks(page,sf,sd);\r\n        dispatch(setTasks(data.message.tasks));\r\n        dispatch(setTotalTasksCount(data.message.total_task_count));\r\n        dispatch(toggleIsFetching(false));\r\n    }\r\n}\r\n\r\nexport const createTask = (task) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true))\r\n    let data = await tasksAPI.createTask(task)\r\n        dispatch(toggleIsFetching(false))\r\n        if(data.status === 'ok') {\r\n            dispatch(requestTasks(1,'id','desc'))\r\n            message.success('Task Added')\r\n        } else {\r\n            message.error('Upss, something went wrong!')\r\n        }\r\n    }\r\n}\r\n\r\nexport const editTask = (task, userToken, queryP) => {\r\n    return async (dispatch) => {\r\n        let data = await tasksAPI.editTask(task, userToken)\r\n        if(data.status ==='ok') {\r\n            dispatch(requestTasks(queryP.pageNum, queryP.sortField, queryP.sortDr))\r\n            message.success('successfully edited')\r\n        } else {\r\n            message.error('Ups...Unexpected error!')\r\n        }\r\n    }\r\n}\r\n\r\nexport default taskReducer\r\n","import {authAPI} from \"../../api/api\";\r\nimport {message} from \"antd\";\r\n\r\nconst SET_USER = 'SET_USER'\r\nconst LOG_OUT = 'LOG_OUT'\r\n\r\nconst initialState = {\r\n    username: '',\r\n    userToken: ''\r\n}\r\n\r\nconst userReducer = (state=initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER:\r\n            return {...state,username: action.username, userToken: action.userToken}\r\n        case LOG_OUT:\r\n            return {...state, username: '', userToken: null}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setUser = (username, userToken) => ({\r\n    type: SET_USER, username, userToken\r\n})\r\n\r\nexport const logOut = () => ({type: LOG_OUT})\r\n\r\nexport const login = (username, password) => async (dispatch) => {\r\n    let res = await authAPI.login(username, password)\r\n    if (res.status === 'ok') {\r\n        dispatch(setUser(username, res.message.token))\r\n        message.success(`Hello ${username}!`)\r\n    } else {\r\n        message.error(\"Invalid username or password. Please, try again\")\r\n    }\r\n}\r\n\r\nexport default userReducer\r\n","import React, {useState} from 'react'\r\nimport {Drawer, Button} from 'antd';\r\nimport {Form, Input} from 'antd';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {login, logOut} from \"../../redux/user/user.reducer\";\r\n\r\nconst Login = () => {\r\n    const [showModal, setShowModal] = useState(false)\r\n    const [form] = Form.useForm();\r\n    const dispatch = useDispatch()\r\n    const onFinish = (values) => {\r\n        dispatch(login(values.username, values.password))\r\n        form.resetFields()\r\n        setShowModal(false)\r\n    };\r\n    const username = useSelector(state => state.userPage.username)\r\n\r\n    return (\r\n        <>\r\n            {username.length > 1 ? <Button type=\"primary\" ghost onClick={() => dispatch(logOut())}>\r\n                logout\r\n            </Button> : <Button type=\"primary\" onClick={() => setShowModal(true)}>\r\n                login\r\n            </Button>}\r\n            <Drawer\r\n                title=\"LogIn\"\r\n                placement={'right'}\r\n                closable={false}\r\n                width={'30%'}\r\n                onClose={() => {\r\n                    setShowModal(false)\r\n                }}\r\n                visible={showModal}\r\n            >\r\n                <Form\r\n                    form={form}\r\n                    name=\"basic\"\r\n                    onFinish={onFinish}\r\n                >\r\n                    <Form.Item\r\n                        label=\"Username\"\r\n                        name=\"username\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: 'Please input your username!',\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <Input/>\r\n                    </Form.Item>\r\n\r\n                    <Form.Item\r\n                        label=\"Password\"\r\n                        name=\"password\"\r\n                        rules={[\r\n                            {\r\n                                required: true,\r\n                                message: 'Please input your password!',\r\n                            },\r\n                        ]}\r\n                    >\r\n                        <Input.Password/>\r\n                    </Form.Item>\r\n                    <Form.Item>\r\n                        <Button type=\"primary\" htmlType=\"submit\">\r\n                            Submit\r\n                        </Button>\r\n                    </Form.Item>\r\n                </Form>\r\n            </Drawer>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Login\r\n","import React, {useState} from 'react'\r\nimport {Button, Card, Switch, Input} from \"antd\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {editTask} from \"../../redux/task/task.reducer\";\r\n\r\nconst TaskCard = ({task, currentQueryParams}) => {\r\n    const userToken = useSelector(state => state.userPage.userToken)\r\n    const dispatch = useDispatch()\r\n    const [isEdit, setIsEdit] = useState(false)\r\n    const [taskText, setTaskText] = useState(task.text)\r\n    const [status, setStatus] = useState(task.status)\r\n    const handleEdit = () => {\r\n        setIsEdit(prev => !prev)\r\n        if(isEdit) {\r\n           taskText.length>0&&dispatch(editTask({id:task.id, text: taskText, status}, userToken,currentQueryParams))\r\n        }\r\n    }\r\n\r\n\r\n    return <Card\r\n        hoverable\r\n        style={{width: \"100%\", height: \"auto\", border: `4px solid ${task.status===0?'red':'green'}`}}\r\n        cover={task.image_path ?\r\n            <img alt=\"TaskPhoto\" style={{maxHeight: \"160px\"}} src={task.image_path}/> :\r\n            <img alt=\"smallPhoto\" style={{maxHeight: \"160px\"}}\r\n                 src={`https://source.unsplash.com/1600x900/?${task.text}`}/>}\r\n    >\r\n        <h4>username: {task.username.replaceAll(\"&gt;\", \">\").replaceAll(\"&lt;\", \"<\").replace( /(<([^>]+)>)/ig, '')}</h4>\r\n        <br/>\r\n        <h4>email: {task.email}</h4>\r\n        <br/>\r\n        {isEdit?<div>\r\n            <Input.TextArea value={taskText} onChange={(e) => {\r\n                setTaskText(e.target.value)\r\n            }}/>\r\n            Task has done: <Switch checked={status === 10} onChange={() => {\r\n            status === 10 ? setStatus(0) : setStatus(10)\r\n        }} />\r\n        </div>:<div>\r\n            {task.status === 0 ? 'Task is :' : 'Task was :'} <span dangerouslySetInnerHTML={{__html: task.text}}/>\r\n            <hr/>\r\n            <span>status: {task.status === 0 ? 'Let`s do it' : 'It was great job'}</span>\r\n        </div>}\r\n        <br/>\r\n        {userToken&&<Button type={'primary'} onClick={handleEdit}>{isEdit ? 'Submit' : 'Edit'}</Button>}\r\n    </Card>\r\n}\r\n\r\nexport default TaskCard\r\n","import React from 'react'\r\nimport {useDispatch} from \"react-redux\";\r\nimport {createTask} from \"../../redux/task/task.reducer\";\r\nimport  { Col,Form, Input, Button } from 'antd';\r\n\r\nconst layout = {\r\n    labelCol: {\r\n        span: 4,\r\n    },\r\n    wrapperCol: {\r\n        span: 24,\r\n    },\r\n};\r\nconst validateMessages = {\r\n    required: '${label} is required!',\r\n    types: {\r\n        email: '${label} is not a valid email!',\r\n        number: '${label} is not a valid number!',\r\n    },\r\n};\r\n\r\nconst CreateTaskForm = () => {\r\n    const [form] = Form.useForm();\r\n    const dispatch = useDispatch()\r\n    const onFinish = (values) => {\r\n        dispatch(createTask(values))\r\n        form.resetFields()\r\n    };\r\n    return <div>\r\n        <br/>\r\n        <Col offset={8}>\r\n            <h2>Add Your Task</h2>\r\n        </Col>\r\n        <Form {...layout} form={form} initialValues={{username:null, email: null, text: null}} name=\"nest-messages\" onFinish={onFinish} validateMessages={validateMessages}>\r\n            <Form.Item\r\n                name={'username'}\r\n                label={<h3>Name</h3>}\r\n                rules={[\r\n                    {\r\n                        required: true,\r\n                    },\r\n                ]}\r\n            >\r\n                <Input />\r\n            </Form.Item>\r\n            <Form.Item\r\n                name='email'\r\n                label={<h3>Email</h3>}\r\n                rules={[\r\n                    {\r\n                        type: 'email',\r\n                        required: true\r\n                    },\r\n                ]}\r\n            >\r\n                <Input />\r\n            </Form.Item>\r\n            <Form.Item name={'text'} label={<h3>Text</h3>}\r\n                       rules={[\r\n                           {\r\n                               required: true\r\n                           },\r\n                       ]}\r\n            >\r\n                <Input.TextArea />\r\n            </Form.Item>\r\n            <Form.Item wrapperCol={{ ...layout.wrapperCol, offset: 4 }}>\r\n                <Button type=\"primary\" htmlType=\"submit\">\r\n                    Submit\r\n                </Button>\r\n            </Form.Item>\r\n        </Form>\r\n    </div>\r\n}\r\n\r\nexport default CreateTaskForm\r\n","import React, {useEffect} from 'react'\r\nimport  {Pagination,Button, Col,Row,Select } from 'antd'\r\nimport TaskCard from \"./taskCard\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {requestTasks} from \"../../redux/task/task.reducer\";\r\nimport CreateTaskForm from \"./createTaskForm\";\r\n\r\nconst { Option } = Select;\r\n\r\nconst TasksContainer = ( ) => {\r\n    const tasks = useSelector(state => state.tasksPage.tasks)\r\n    const pageNum = useSelector(state => state.tasksPage.pageNum)\r\n    const sortField = useSelector(state => state.tasksPage.sortField)\r\n    const sortDr = useSelector(state => state.tasksPage.sortDr)\r\n    const totalTaskCount = useSelector(state => state.tasksPage.totalTaskCount)\r\n    const dispatch = useDispatch()\r\n\r\n    const handleSortField = (e) => {\r\n        dispatch(requestTasks(pageNum,e,sortDr))\r\n    }\r\n    const handleSortDr = () => {\r\n        let newSortDr = sortDr==='asc'?'desc':'asc'\r\n        dispatch(requestTasks(pageNum,sortField,newSortDr))\r\n    }\r\n\r\n    useEffect(()=>{\r\n        dispatch(requestTasks(1))\r\n    },[dispatch])\r\n\r\n    return <div>\r\n        <Row justify={'center'} gutter={[8, 8]}>\r\n           <Col>\r\n               <h3>You can sort by: </h3>\r\n           </Col>\r\n            <Col>\r\n                <Select defaultValue={sortField} style={{width: 120}} onChange={handleSortField}>\r\n                    <Option value=\"username\">username</Option>\r\n                    <Option value=\"email\">email</Option>\r\n                    <Option value=\"status\">status</Option>\r\n                </Select>\r\n            </Col>\r\n            <Col>\r\n                <h3> and by </h3>\r\n            </Col>\r\n            <Col>\r\n                <Button type={'primary'} shape={'round'} onClick={handleSortDr}>{sortDr === 'asc' ? 'asc' : \"desc\"}</Button>\r\n            </Col>\r\n        </Row>\r\n        <br/>\r\n        <Row justify={'center'} gutter={[8,8]}>\r\n            {tasks.map(t => <Col xs={24} md={12} lg={6}  key={t.id}>\r\n                <TaskCard key={t.id} task={t} currentQueryParams={{pageNum, sortField, sortDr}}/>\r\n            </Col>)}\r\n            <Col xs={24} md={12} lg={6} >\r\n                <CreateTaskForm/>\r\n            </Col>\r\n        </Row>\r\n        <br/>\r\n        <Row justify={'center'}>\r\n            <Col offset={2}>\r\n                <Pagination current={pageNum} total={totalTaskCount} pageSize={3} onChange={(p) => {\r\n                    dispatch(requestTasks(p, sortField, sortDr))\r\n                }}/>\r\n            </Col>\r\n        </Row>\r\n    </div>\r\n}\r\n\r\nexport default TasksContainer\r\n","import React, {useEffect} from 'react'\r\nimport {useSelector} from \"react-redux\";\r\nimport {Col, Layout, message, Row} from \"antd\";\r\nimport Login from \"../login/login\";\r\nimport TasksContainer from \"../tasks/tasksContainer\";\r\nimport s from './mainPage.module.css'\r\n\r\nconst MainPage = () => {\r\n    const isFetching = useSelector(state => state.tasksPage.isFetching)\r\n    useEffect(() => {\r\n        isFetching && message.loading('Processing', 0.2)\r\n    }, [isFetching])\r\n\r\n    return (\r\n        <Layout className={s.siteLayout}>\r\n            <Layout.Content className={s.layoutShadow}>\r\n               <Row>\r\n                   <Col span={2}>\r\n                       <Login/>\r\n                   </Col>\r\n                   <Col offset={8}>\r\n                       <h1>WELCOME TO TASK-MANAGER</h1>\r\n                   </Col>\r\n                   <TasksContainer/>\r\n               </Row>\r\n            </Layout.Content>\r\n        </Layout>\r\n    )\r\n}\r\n\r\nexport default MainPage","import React from 'react'\nimport 'antd/dist/antd.css';\nimport {Provider} from \"react-redux\";\nimport store from \"./redux/store\";\nimport MainPage from \"./components/mainPage/mainPage\";\nimport './App.css'\nfunction App() {\n\n  return (\n      <div>\n          <Provider store={store}>\n              <MainPage/>\n          </Provider>\n      </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n//import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n//reportWebVitals();\n"],"sourceRoot":""}